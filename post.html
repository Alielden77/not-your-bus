<div class="container" id="post"></div>
<div class="container" id="comments"></div>
<form id="comment-form">
  <input type="text" name="comment" placeholder="Add a comment..." required />
  <button type="submit">Reply</button>
</form>

<script>
  const postId = new URLSearchParams(window.location.search).get('id');

  fetch(`php/post.php?id=${postId}`)
.then(res => res.text())
.then(data => document.getElementById('post').innerHTML = data);

  fetch(`php/comment.php?id=${postId}`)
.then(res => res.text())
.then(data => document.getElementById('comments').innerHTML = data);

  document.getElementById('comment-form').onsubmit = e => {
    e.preventDefault();
    const formData = new FormData(e.target);
    formData.append('id', postId);
    fetch('php/comment.php', {
      method: 'POST',
      body: formData
}).then(() => e.target.reset());
};
</script>
